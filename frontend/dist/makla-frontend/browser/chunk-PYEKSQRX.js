import{d as F,g as T}from"./chunk-BRHEW7GJ.js";import{d as A,g as I,l as z,m as j,n as L,s as R}from"./chunk-PM2VUJQT.js";import{$a as _,La as y,Ob as D,Pa as u,Sb as k,Va as x,Wa as g,Xa as e,Ya as t,Za as c,aa as v,ab as P,ba as C,fb as b,gb as M,ib as i,jb as d,kb as p,lb as O,ob as S,pb as E,qb as w,wa as o}from"./chunk-OOT27GPI.js";function V(a,r){if(a&1&&(e(0,"div",45),c(1,"div",46),t()),a&2){let l=r.$implicit,m=r.index,s=P();b("left",m/(s.caloriesData.length-1)*100,"%")("bottom",l.value/s.maxCalories*100,"%"),o(),g("title",l.date+": "+l.value+" kcal")}}function B(a,r){if(a&1&&(e(0,"span",47),i(1),t()),a&2){let l=r.$implicit;o(),d(l.label)}}function N(a,r){if(a&1&&(e(0,"div",48)(1,"span",49),i(2),t(),e(3,"span",50),i(4),t(),e(5,"div",51),c(6,"div",52),t(),e(7,"span",53),i(8),t()()),a&2){let l=r.$implicit,m=r.index,s=P();o(2),d(m+1),o(2),d(l.name),o(2),b("width",l.count/s.topFoods[0].count*100,"%"),o(2),p("",l.count,"x")}}function W(a,r){if(a&1&&(e(0,"div",54)(1,"div",55)(2,"span",56),i(3),t()(),e(4,"span",57),i(5),t()()),a&2){let l=r.$implicit;o(),b("height",l.amount/3e3*100,"%"),o(2),d(l.amount),o(2),d(l.day)}}function $(a,r){if(a&1&&(e(0,"div",58)(1,"div",59),i(2),t(),e(3,"h4"),i(4),t(),e(5,"p"),i(6),t(),e(7,"button",60),i(8),t()()),a&2){let l=r.$implicit;o(2),d(l.icon),o(2),d(l.title),o(2),d(l.message),o(2),d(l.action)}}var U=(()=>{let r=class r{constructor(){this.Math=Math,this.selectedPeriod="7",this.avgCalories=1950,this.caloriesTrend=5.2,this.avgWater=1850,this.waterTrend=-2.3,this.avgMealsPerDay=3.2,this.totalMeals=22,this.nutritionScore=78,this.maxCalories=2500,this.caloriesData=[{date:"2025-12-01",label:"01/12",value:1800},{date:"2025-12-02",label:"02/12",value:2100},{date:"2025-12-03",label:"03/12",value:1950},{date:"2025-12-04",label:"04/12",value:2200},{date:"2025-12-05",label:"05/12",value:1850},{date:"2025-12-06",label:"06/12",value:2050},{date:"2025-12-07",label:"07/12",value:1900}],this.proteinPercent=30,this.carbsPercent=45,this.fatsPercent=25,this.topFoods=[{name:"Poulet grill\xE9",count:8},{name:"Riz basmati",count:7},{name:"Brocoli",count:6},{name:"Oeufs",count:5},{name:"Pain complet",count:5},{name:"Banane",count:4},{name:"Yaourt grec",count:4},{name:"Amandes",count:3},{name:"Saumon",count:3},{name:"Avocat",count:2}],this.waterData=[{day:"L",amount:1800},{day:"M",amount:2100},{day:"M",amount:1950},{day:"J",amount:2200},{day:"V",amount:1850},{day:"S",amount:2050},{day:"D",amount:1900}],this.recommendations=[{icon:"\u{1F4AA}",title:"Augmentez les prot\xE9ines",message:"Vous \xEAtes 15g en dessous de votre objectif quotidien",action:"Voir suggestions"},{icon:"\u{1F4A7}",title:"Buvez plus d'eau",message:"Objectif non atteint 3 jours cette semaine",action:"D\xE9finir rappels"},{icon:"\u{1F957}",title:"Variez vos l\xE9gumes",message:"Vous consommez surtout du brocoli, essayez d'autres l\xE9gumes",action:"D\xE9couvrir recettes"}]}ngOnInit(){this.loadAnalytics()}loadAnalytics(){console.log("Chargement analytics pour p\xE9riode:",this.selectedPeriod)}getLinePoints(m){return m.map((s,n)=>{let h=n/(m.length-1)*100,f=100-s.value/this.maxCalories*100;return`${h},${f}`}).join(" ")}exportData(){alert("Export PDF en cours de d\xE9veloppement...")}};r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=y({type:r,selectors:[["app-analysis"]],decls:100,vars:35,consts:[[1,"analysis-container"],[1,"page-header"],["routerLink","/dashboard",1,"btn-back"],[1,"filters-section"],[1,"filter-group"],[3,"ngModelChange","change","ngModel"],["value","7"],["value","30"],["value","90"],[1,"btn-export",3,"click"],[1,"summary-grid"],[1,"summary-card"],[1,"big-number"],[1,"trend"],[1,"stat-detail"],[1,"big-number","score"],[1,"score-bar"],[1,"score-fill"],[1,"charts-section"],[1,"chart-card"],[1,"line-chart"],[1,"chart-area"],["class","data-point",3,"left","bottom",4,"ngFor","ngForOf"],["viewBox","0 0 100 100","preserveAspectRatio","none",1,"chart-line"],["fill","none","stroke","#667eea","stroke-width","2"],[1,"chart-labels"],["class","label",4,"ngFor","ngForOf"],[1,"pie-chart"],["viewBox","0 0 200 200",1,"pie-svg"],["cx","100","cy","100","r","80","fill","none","stroke","#3498db","stroke-width","40","transform","rotate(-90 100 100)"],["cx","100","cy","100","r","80","fill","none","stroke","#e74c3c","stroke-width","40","transform","rotate(-90 100 100)"],["cx","100","cy","100","r","80","fill","none","stroke","#f39c12","stroke-width","40","transform","rotate(-90 100 100)"],[1,"pie-legend"],[1,"legend-item"],[1,"color-box","protein"],[1,"color-box","carbs"],[1,"color-box","fats"],[1,"top-foods"],["class","food-row",4,"ngFor","ngForOf"],[1,"bar-chart"],["class","bar-container",4,"ngFor","ngForOf"],[1,"chart-footer"],[1,"recommendations-section"],[1,"recommendations-grid"],["class","recommendation-card",4,"ngFor","ngForOf"],[1,"data-point"],[1,"point-dot",3,"title"],[1,"label"],[1,"food-row"],[1,"rank"],[1,"food-name"],[1,"food-bar"],[1,"bar-fill"],[1,"food-count"],[1,"bar-container"],[1,"bar"],[1,"bar-value"],[1,"bar-label"],[1,"recommendation-card"],[1,"rec-icon"],[1,"btn-action"]],template:function(s,n){s&1&&(e(0,"div",0)(1,"header",1)(2,"button",2),i(3,"\u2190 Retour"),t(),e(4,"h1"),i(5,"\u{1F4CA} Analyses & Statistiques"),t()(),e(6,"div",3)(7,"div",4)(8,"label"),i(9,"P\xE9riode:"),t(),e(10,"select",5),w("ngModelChange",function(f){return E(n.selectedPeriod,f)||(n.selectedPeriod=f),f}),_("change",function(){return n.loadAnalytics()}),e(11,"option",6),i(12,"7 derniers jours"),t(),e(13,"option",7),i(14,"30 derniers jours"),t(),e(15,"option",8),i(16,"3 derniers mois"),t()()(),e(17,"button",9),_("click",function(){return n.exportData()}),i(18,"\u{1F4E5} Exporter PDF"),t()(),e(19,"div",10)(20,"div",11)(21,"h3"),i(22,"\u{1F525} Calories Moyennes/Jour"),t(),e(23,"div",12),i(24),t(),e(25,"p",13),i(26),t()(),e(27,"div",11)(28,"h3"),i(29,"\u{1F4A7} Hydratation Moyenne"),t(),e(30,"div",12),i(31),t(),e(32,"p",13),i(33),t()(),e(34,"div",11)(35,"h3"),i(36,"\u{1F37D}\uFE0F Repas par Jour"),t(),e(37,"div",12),i(38),t(),e(39,"p",14),i(40),t()(),e(41,"div",11)(42,"h3"),i(43,"\u2B50 Score Nutrition"),t(),e(44,"div",15),i(45),t(),e(46,"div",16),c(47,"div",17),t()()(),e(48,"div",18)(49,"div",19)(50,"h2"),i(51,"\u{1F4C8} \xC9volution des Calories"),t(),e(52,"div",20)(53,"div",21),u(54,V,2,5,"div",22),v(),e(55,"svg",23),c(56,"polyline",24),t()(),C(),e(57,"div",25),u(58,B,2,1,"span",26),t()()(),e(59,"div",19)(60,"h2"),i(61,"\u{1F957} R\xE9partition Macronutriments"),t(),e(62,"div",27),v(),e(63,"svg",28),c(64,"circle",29)(65,"circle",30)(66,"circle",31),t(),C(),e(67,"div",32)(68,"div",33),c(69,"span",34),e(70,"span"),i(71),t()(),e(72,"div",33),c(73,"span",35),e(74,"span"),i(75),t()(),e(76,"div",33),c(77,"span",36),e(78,"span"),i(79),t()()()()(),e(80,"div",19)(81,"h2"),i(82,"\u{1F3C6} Top 10 Aliments Consomm\xE9s"),t(),e(83,"div",37),u(84,N,9,5,"div",38),t()(),e(85,"div",19)(86,"h2"),i(87,"\u{1F4A6} Tendances Hydratation"),t(),e(88,"div",39),u(89,W,6,4,"div",40),t(),e(90,"div",41)(91,"span"),i(92,"Objectif: 2000ml"),t(),e(93,"span"),i(94),t()()()(),e(95,"div",42)(96,"h2"),i(97,"\u{1F4A1} Recommandations Personnalis\xE9es"),t(),e(98,"div",43),u(99,$,9,4,"div",44),t()()()),s&2&&(o(10),S("ngModel",n.selectedPeriod),o(14),d(n.avgCalories),o(),M("positive",n.caloriesTrend>0)("negative",n.caloriesTrend<0),o(),O(" ",n.caloriesTrend>0?"\u2197":"\u2198"," ",n.Math.abs(n.caloriesTrend),"% vs p\xE9riode pr\xE9c\xE9dente "),o(5),p("",n.avgWater,"ml"),o(),M("positive",n.waterTrend>0)("negative",n.waterTrend<0),o(),O(" ",n.waterTrend>0?"\u2197":"\u2198"," ",n.Math.abs(n.waterTrend),"% vs p\xE9riode pr\xE9c\xE9dente "),o(5),d(n.avgMealsPerDay),o(2),p("",n.totalMeals," repas au total"),o(5),p("",n.nutritionScore,"/100"),o(2),b("width",n.nutritionScore,"%"),o(7),g("ngForOf",n.caloriesData),o(2),x("points",n.getLinePoints(n.caloriesData)),o(2),g("ngForOf",n.caloriesData),o(6),x("stroke-dasharray",n.proteinPercent*5.03+" 503"),o(),x("stroke-dasharray",n.carbsPercent*5.03+" 503")("stroke-dashoffset",-n.proteinPercent*5.03),o(),x("stroke-dasharray",n.fatsPercent*5.03+" 503")("stroke-dashoffset",-(n.proteinPercent+n.carbsPercent)*5.03),o(5),p("Prot\xE9ines: ",n.proteinPercent,"%"),o(4),p("Glucides: ",n.carbsPercent,"%"),o(4),p("Lipides: ",n.fatsPercent,"%"),o(5),g("ngForOf",n.topFoods),o(5),g("ngForOf",n.waterData),o(5),p("Moyenne: ",n.avgWater,"ml"),o(5),g("ngForOf",n.recommendations))},dependencies:[k,D,T,F,R,j,L,z,A,I],styles:[".analysis-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f7fa;padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-size:2rem}.btn-back[_ngcontent-%COMP%]{padding:10px 20px;background:#fff;border:2px solid #667eea;color:#667eea;border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s}.btn-back[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff}.filters-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:20px;border-radius:12px;margin-bottom:30px;box-shadow:0 2px 10px #0000001a}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid #e0e0e0;border-radius:6px;font-size:1rem;cursor:pointer}.btn-export[_ngcontent-%COMP%]{padding:10px 20px;background:#27ae60;color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:all .3s}.btn-export[_ngcontent-%COMP%]:hover{background:#229954}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.summary-card[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 2px 10px #0000001a}.summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#666;font-size:1rem}.big-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#667eea;margin-bottom:10px}.big-number.score[_ngcontent-%COMP%]{color:#27ae60}.trend[_ngcontent-%COMP%]{margin:0;font-size:.9rem;font-weight:600}.trend.positive[_ngcontent-%COMP%]{color:#27ae60}.trend.negative[_ngcontent-%COMP%]{color:#e74c3c}.stat-detail[_ngcontent-%COMP%]{margin:0;color:#999;font-size:.9rem}.score-bar[_ngcontent-%COMP%]{background:#e0e0e0;height:8px;border-radius:4px;overflow:hidden;margin-top:10px}.score-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#27ae60,#2ecc71);height:100%;transition:width .5s ease}.charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;margin-bottom:30px}.chart-card[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;box-shadow:0 2px 10px #0000001a}.chart-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:1.3rem}.line-chart[_ngcontent-%COMP%]{height:250px}.chart-area[_ngcontent-%COMP%]{position:relative;height:200px;border-bottom:2px solid #e0e0e0;border-left:2px solid #e0e0e0}.data-point[_ngcontent-%COMP%]{position:absolute}.point-dot[_ngcontent-%COMP%]{width:10px;height:10px;background:#667eea;border-radius:50%;border:2px solid white;box-shadow:0 2px 5px #0003;cursor:pointer}.point-dot[_ngcontent-%COMP%]:hover{transform:scale(1.5)}.chart-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.chart-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:10px}.label[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.pie-chart[_ngcontent-%COMP%]{display:flex;align-items:center;gap:40px}.pie-svg[_ngcontent-%COMP%]{width:200px;height:200px}.pie-legend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1rem}.color-box[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px}.color-box.protein[_ngcontent-%COMP%]{background:#3498db}.color-box.carbs[_ngcontent-%COMP%]{background:#e74c3c}.color-box.fats[_ngcontent-%COMP%]{background:#f39c12}.top-foods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.food-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:30px 1fr 2fr 50px;align-items:center;gap:15px}.rank[_ngcontent-%COMP%]{font-weight:700;color:#667eea;font-size:1.1rem}.food-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.food-bar[_ngcontent-%COMP%]{background:#e0e0e0;height:25px;border-radius:12px;overflow:hidden}.bar-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#667eea,#764ba2);height:100%;transition:width .5s ease}.food-count[_ngcontent-%COMP%]{text-align:right;color:#666;font-weight:600}.bar-chart[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:200px;padding:20px 0}.bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1;max-width:60px}.bar[_ngcontent-%COMP%]{width:100%;background:linear-gradient(to top,#3498db,#5dade2);border-radius:8px 8px 0 0;position:relative;min-height:20px;transition:all .3s}.bar[_ngcontent-%COMP%]:hover{opacity:.8}.bar-value[_ngcontent-%COMP%]{position:absolute;top:-25px;left:50%;transform:translate(-50%);font-size:.85rem;font-weight:600;color:#3498db}.bar-label[_ngcontent-%COMP%]{margin-top:10px;font-size:.85rem;color:#666}.chart-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px;padding-top:20px;border-top:1px solid #e0e0e0;color:#666;font-size:.9rem}.recommendations-section[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 10px #0000001a}.recommendations-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 25px;color:#333}.recommendations-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.recommendation-card[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:12px;text-align:center}.rec-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:15px}.recommendation-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.2rem}.recommendation-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;opacity:.9}.btn-action[_ngcontent-%COMP%]{padding:8px 20px;background:#fff;color:#667eea;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:all .3s}.btn-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 10px #0003}@media (max-width: 768px){.charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.pie-chart[_ngcontent-%COMP%]{flex-direction:column}}"]});let a=r;return a})();export{U as AnalysisComponent};
